# SPDX-License-Identifier: Apache-2.0

menuconfig SWIFT_IO
	bool "SwiftIO - Source-sink Wired Interface for Fast Threaded I/O"
	select NET_BUF
	help
	  Enable the SwiftIO subsystem. This provides a zero-copy
	  mechanism for distributing net_buf packets from sources to
	  multiple sinks using reference counting.

if SWIFT_IO

config SWIFT_IO_NAMES
	bool "Enable names for sources and sinks"
	default y if DEBUG
	help
	  Enable string names for packet sources, sinks, and event processors.
	  This adds a const char* field to each structure for debugging and
	  logging purposes. Disable to save memory in production builds.

config SWIFT_IO_STATS
	bool "Enable SwiftIO statistics"
	default y if DEBUG
	help
	  Enable statistics tracking for packet sources and sinks.
	  This includes message counts, drop counts, and delivery counts.

config SWIFT_IO_LOG_LEVEL
	int "SwiftIO log level"
	depends on LOG
	default 3
	range 0 4
	help
	  Set the log level for SwiftIO subsystem
	  0 - OFF
	  1 - ERROR  
	  2 - WARNING
	  3 - INFO
	  4 - DEBUG

config SWIFT_IO_RUNTIME_OBSERVERS
	bool "Runtime observer registration"
	help
	  Enable runtime registration and deregistration of observers.
	  If disabled, all connections must be defined at compile time.

config SWIFT_IO_RUNTIME_STACK_CHECK
	bool "Check for stack-allocated runtime connections"
	default y if DEBUG
	depends on SWIFT_IO_RUNTIME_OBSERVERS && THREAD_STACK_INFO
	help
	  Enable detection of stack-allocated connection structures when
	  adding runtime connections. This helps catch a common error where
	  connections are mistakenly allocated on the stack instead of
	  statically or dynamically. Automatically enabled in debug builds.

config SWIFT_IO_ASSERT_ON_ERROR
	bool "Assert on SwiftIO errors"
	default y if DEBUG
	help
	  Assert when SwiftIO encounters an error condition such as
	  invalid parameters or corrupted state.

config SWIFT_IO_PRIORITY
	int "SwiftIO initialization priority"
	default 99
	range 0 99
	help
	  Initialization priority for the SwiftIO subsystem.
	  Should be high (late) to ensure sources and sinks are defined.

module = SWIFT_IO
module-str = swift_io
source "subsys/logging/Kconfig.template.log_config"

endif # SWIFT_IO