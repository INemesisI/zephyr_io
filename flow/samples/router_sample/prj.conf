# Flow Router Sample with TCP Server Configuration

# Enable packet I/O subsystem
CONFIG_FLOW=y
CONFIG_FLOW_NAMES=y
CONFIG_FLOW_STATS=y
CONFIG_FLOW_BUF_TIMESTAMP_HIRES=y

# Enable networking buffer support
CONFIG_NET_BUF=y

# Enable networking
CONFIG_NETWORKING=y
CONFIG_NET_TCP=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_SOCKETS_POSIX_NAMES=y

# Network stack configuration
CONFIG_NET_IPV4=y
CONFIG_NET_IPV6=n
CONFIG_NET_DHCPV4=n

# Native networking for native_sim
CONFIG_NET_DRIVERS=y
CONFIG_NET_LOOPBACK=y

# Use host sockets for native_sim (allows connections from host)
CONFIG_NET_SOCKETS_OFFLOAD=y
CONFIG_NET_NATIVE_OFFLOADED_SOCKETS=y
CONFIG_HEAP_MEM_POOL_SIZE=8192

# Network buffers
CONFIG_NET_PKT_RX_COUNT=16
CONFIG_NET_PKT_TX_COUNT=16
CONFIG_NET_BUF_RX_COUNT=16
CONFIG_NET_BUF_TX_COUNT=16

# Enable logging
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_NET_LOG=y

# Enable assertions to catch bugs
CONFIG_ASSERT=y
CONFIG_ASSERT_LEVEL=2

# Enable poll support for efficient multi-sink handling
CONFIG_POLL=y

# Thread configuration
CONFIG_MAIN_STACK_SIZE=2048
CONFIG_NET_TX_STACK_SIZE=2048
CONFIG_NET_RX_STACK_SIZE=2048