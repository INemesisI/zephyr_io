sample:
  description: Modular packet processing pipeline with header addition, TCP transmission, and integrity validation
  name: Packet I/O Basic Routing Sample
tests:
  sample.flow.basic_routing:
    tags:
      - flow
      - samples
      - networking
      - validation
    harness: console
    harness_config:
      type: multi_line
      ordered: false
      regex:
        - "Sensor module started \\(256B \\+ 384B payloads\\)"
        - "Echo server started"
        - "Sensor 1 validator started \\(immediate mode, filtering ID=0x01\\)"
        - "Sensor 2 validator started \\(immediate mode, filtering ID=0x02\\)"
        - "Packet processor started"
        - "SENSOR1 VALID: [0-9]+ bytes"
        - "SENSOR2 VALID: [0-9]+ bytes"
    timeout: 5
    min_ram: 32
    integration_platforms:
      - native_sim
    platform_allow:
      - native_sim
      - qemu_x86
      - qemu_cortex_m3